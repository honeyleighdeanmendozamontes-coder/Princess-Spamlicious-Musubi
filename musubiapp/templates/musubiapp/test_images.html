<!DOCTYPE html>
<html>
<head>
    <title>Test Product Images</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .image-test { margin: 20px 0; padding: 20px; border: 1px solid #ccc; }
        .image-test img { max-width: 200px; height: auto; }
        .debug-info { background: #f5f5f5; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Product Images Test</h1>
    
    <div class="debug-info">
        <h3>Debug Information:</h3>
        <p><strong>MEDIA_URL:</strong> {{ MEDIA_URL }}</p>
        <p><strong>DEBUG:</strong> {{ DEBUG }}</p>
    </div>
    
    {% for product in products %}
    <div class="image-test">
        <h3>{{ product.name }} (ID: {{ product.id }})</h3>
        <p><strong>Image Field:</strong> {{ product.image }}</p>
        <p><strong>Generated URL:</strong> {{ product.image.url }}</p>
        
        {% if product.image %}
            <p><strong>Image Display:</strong></p>
            <img src="{{ product.image.url }}" alt="{{ product.name }}" onerror="this.style.border='2px solid red'; this.alt='FAILED TO LOAD';">
        {% else %}
            <p><em>No image assigned</em></p>
        {% endif %}
        
        <p><strong>Direct URL Test:</strong></p>
        <a href="{{ product.image.url }}" target="_blank">{{ product.image.url }}</a>
    </div>
    {% endfor %}
    
    <div class="debug-info">
        <h3>Direct Image URLs:</h3>
        <p><a href="/media/products/classic_spam_musubi.jpg" target="_blank">/media/products/classic_spam_musubi.jpg</a></p>
        <p><a href="/media/products/spam_egg_musubi.jpg" target="_blank">/media/products/spam_egg_musubi.jpg</a></p>
        <p><a href="/media/products/spam_musubi.jpg" target="_blank">/media/products/spam_musubi.jpg</a></p>
    </div>
</body>
</html>
